/* ===== CSS变量定义 ===== */
:root {
  /* 颜色变量 */
  --color-white: #fff;
  --color-black: #000;
  --color-text-light: #999;
  --color-overlay: rgba(255, 255, 255, 0.8);
  --color-shadow: rgba(0, 0, 0, 0.2);
  --color-shadow-heavy: rgba(0, 0, 0, 0.3);
  --color-success: rgba(50, 253, 165, 0.9);
  --color-listen-bg: #fff7d2;
  --color-slide-bg: #d1ebff;

  /* 渐变背景 */
  --gradient-level0: linear-gradient(to bottom, #2c3e50, #bdc3c7);
  --gradient-level1: linear-gradient(to bottom, #ff0844, #ffb199);
  --gradient-level2: linear-gradient(to bottom, #f09819, #f6d365);
  --gradient-level3: linear-gradient(to bottom, #2f80ed, #56ccf2);
  --gradient-level4: linear-gradient(to bottom, #0ba360, #3cba92);
  --gradient-level-high: linear-gradient(to bottom, #5961f9, #ee9ae5);

  /* 尺寸变量 */
  --border-radius: 10px;
  --spacing-xs: 1vw;
  --spacing-sm: 4vw;
  --spacing-md: 5vw;
  --container-padding: 50px;
  --slide-height: 90vh;
  --slide-width: 98vw;
  --font-size-sm: 14px;
  --z-index-overlay: 60;
  --z-index-top: 90;

  /* 动画变量 */
  --transition-fast: 0.3s;
  --transition-medium: 0.5s;
  --blur-amount: 4px;
  --blur-heavy: 5px;
}

/* ===== 基础重置样式 ===== */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ===== 字体定义 ===== */
/* 英文列表字体 */
@font-face {
  font-family: "list-en";
  src: url("../font/xujunhao/list-en.ttf") format("truetype");
  font-display: swap;
}

@font-face {
  font-family: "list-en-2";
  src: url("../font/xujunhao/list-en-2.otf") format("opentype");
  font-display: swap;
}

/* 山海字体 */
@font-face {
  font-family: "shanhai";
  src: url("../font/xujunhao/shanhai.ttf") format("truetype");
  font-display: swap;
}

/* 明体字体 */
@font-face {
  font-family: "ming";
  src: url("../font/xujunhao/ming.ttf") format("truetype");
  font-display: swap;
}

/* 日文字体系列 */
@font-face {
  font-family: "qingfengnojp";
  src: url("../font/xujunhao/qingfengnojp.ttf") format("truetype");
  font-display: swap;
}

@font-face {
  font-family: "zhuzinojp";
  src: url("../font/xujunhao/zhuzinojp.ttf") format("truetype");
  font-display: swap;
}

@font-face {
  font-family: "kaisongnojp";
  src: url("../font/xujunhao/kaisongnojp.ttf") format("truetype");
  font-display: swap;
}

/* Motoya字体系列 */
@font-face {
  font-family: "MotoyaMinchoModernStd-W4";
  src: url("../font/xujunhao/MotoyaMinchoModernStd-W4.OTF") format("opentype");
  font-display: swap;
}

@font-face {
  font-family: "MotoyaNewsMStd-W2";
  src: url("../font/xujunhao/MotoyaNewsMStd-W2.OTF") format("opentype");
  font-display: swap;
}

/* 数字专用粗体字 */
@font-face {
  font-family: "number";
  src: url("../font/xujunhao/antikor-bold.ttf") format("truetype");
  font-display: swap;
}

/* 英文等宽字体 */
@font-face {
  font-family: "en";
  src: url("../font/xujunhao/AntikorMono-Medium.ttf") format("truetype");
  font-display: swap;
}

/* 嘉明圆体 - 多重字重 */
@font-face {
  font-family: "jiaming";
  src: url("../font/xujunhao/NudMotoyaMaruStd-W2b.OTF") format("opentype");
  font-weight: 200;
  font-display: swap;
}

@font-face {
  font-family: "jiaming";
  src: url("../font/xujunhao/NudMotoyaMaruStd-W5.OTF") format("opentype");
  font-weight: 500;
  font-display: swap;
}

/* 播放数字体 */
@font-face {
  font-family: "playNumber";
  src: url("../font/xujunhao/xukepolo.TTF") format("truetype");
  font-display: swap;
}

/* 新粗黑体 */
@font-face {
  font-family: "xinquhei";
  src: url("../font/xujunhao/xinquhei.ttf") format("truetype");
  font-display: swap;
}

/* 达标体 */
@font-face {
  font-family: "dabiao";
  src: url("../font/xujunhao/dabiao.ttf") format("truetype");
  font-display: swap;
}

/* 日文表格专用字体 */
@font-face {
  font-family: "jp-table";
  src: url("../font/xujunhao/FOT-TsukuANARdGoLStd-B.otf") format("opentype");
  font-display: swap;
}

/* 竖排文字 - 日文字级支持 */
@font-face {
  font-family: "zhuzi-jp";
  src: url("../font/xujunhao/zhuzi-FOT-TsukuARdGothicStd-B.OTF") format("opentype");
  font-display: swap;
}

/* 竖排文字 - 中文支持 */
@font-face {
  font-family: "zhuzi-zh";
  src: url("../font/xujunhao/zhuzi-FZFWZhuZiAYuanJWB.TTF") format("truetype");
  font-display: swap;
}

/* 黑体字族 - 日文部分 */
@font-face {
  font-family: "zhuzi-hei-jp";
  src: url("../font/xujunhao/FOT-TsukuOldGothicStd-B.OTF") format("opentype");
  font-display: swap;
}

/* 黑体字族 - 中文部分 */
@font-face {
  font-family: "zhuzi-hei-zh";
  src: url("../font/xujunhao/FZFWZhuZGDLHJW.TTF") format("truetype");
  font-display: swap;
}

/* 德艺黑体 */
@font-face {
  font-family: "deyihei";
  src: url("../font/xujunhao/deyihei.ttf") format("truetype");
  font-display: swap;
}
/* ===== 基础布局样式 ===== */
body {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* ===== 主要区域样式 ===== */
section {
  position: relative;
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  transition: all var(--transition-medium);
}

/* 等级背景样式 */
section.level0 {
  background-image: var(--gradient-level0);
}

section.level1 {
  background-image: var(--gradient-level1);
}

section.level2 {
  background-image: var(--gradient-level2);
}

section.level3 {
  background-image: var(--gradient-level3);
}

section.level4 {
  background-image: var(--gradient-level4);
}

section.level5,
section.level6,
section.level7,
section.level8,
section.level9,
section.level10,
section.level11,
section.level12 {
  background-image: var(--gradient-level-high);
}

section.unlimited {
  background-image: url(../image/unlimited.jpg) !important;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* 听力模式样式 */
section.listen .side1,
section.listen .side2 {
  background-color: var(--color-listen-bg);
}

section.listen .side1 .side1-container,
section.listen .side2 .side2-container {
  color: var(--color-black);
}

/* ===== Swiper容器样式 ===== */
.swiper-container {
  width: 100%;
  padding-top: var(--container-padding);
  padding-bottom: var(--container-padding);
}

.swiper-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  height: var(--slide-height);
  position: relative;
  border-radius: var(--border-radius);
}

/* ===== 滑动卡片样式 ===== */
.swiper-slide {
  width: var(--slide-width);
  height: var(--slide-height);
  background-position: center;
  background-size: cover;
  filter: blur(var(--blur-amount));
  background-color: var(--color-slide-bg);
  border-radius: var(--border-radius);
  perspective: 2000px;
  position: absolute;
  opacity: 0;
  transition: all var(--transition-fast);
}

/* 滑动动画状态 */
.swiper-slide.small {
  scale: 0.5;
  transform: translateX(100vw);
}

.swiper-slide.big {
  scale: 1.5;
  transform: translateX(-100vw);
}

/* 激活状态的滑块 */
.swiper-slide-active {
  opacity: 1;
  scale: 1;
  filter: blur(0);
  background-color: transparent;
  transform: translateY(0);
  border-radius: var(--border-radius);
}

/* ===== 图片叠加层样式 ===== */
.swiper-slide .img-blur,
.swiper-slide .img {
  display: none;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-repeat: no-repeat;
  background-position: center;
}

.swiper-slide .img-container {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: var(--color-black);
  z-index: var(--z-index-overlay);
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

/* ===== 交互状态图片显示 ===== */
.swiper-slide-active.fuck .img,
.swiper-slide-active.hold .img,
.swiper-slide-active.done .img,
.swiper-slide-active.up .img,
.swiper-slide-active.down .img,
.swiper-slide-active.delete .img,
.swiper-slide-active.nodelete .img,
.swiper-slide-active.edit .img,
.swiper-slide-active.noedit .img {
  display: block;
}

.swiper-slide-active.fuck .img-blur,
.swiper-slide-active.hold .img-blur,
.swiper-slide-active.done .img-blur,
.swiper-slide-active.up .img-blur,
.swiper-slide-active.down .img-blur,
.swiper-slide-active.delete .img-blur,
.swiper-slide-active.nodelete .img-blur,
.swiper-slide-active.edit .img-blur,
.swiper-slide-active.noedit .img-blur {
  display: block;
  background-color: var(--color-overlay);
  backdrop-filter: blur(var(--blur-heavy));
  border-radius: var(--border-radius);
}

/* 具体状态图片定义 */
.swiper-slide-active.hold .img {
  background-image: url(../image/006.png);
  background-size: 50%;
}

.swiper-slide-active.fuck .img {
  background-image: url(../image/comeon.png);
  background-size: 50%;
}

.swiper-slide-active.done .img {
  background-size: 50%;
  background-image: url(../image/004.png);
}

.swiper-slide-active.up .img {
  background-image: url(../image/up.png);
}

.swiper-slide-active.down .img {
  background-image: url(../image/down.png);
}

.swiper-slide-active.delete .img {
  background-image: url(../image/delete.png);
}

.swiper-slide-active.nodelete .img {
  background-image: url(../image/no-delete.png);
}

.swiper-slide-active.edit .img {
  background-image: url(../image/edit.png);
}

.swiper-slide-active.noedit .img {
  background-image: url(../image/no-edit.png);
}
/* ===== 笔记卡片组件样式 ===== */
.note-box {
  border-radius: var(--border-radius);
  position: relative;
  width: 100%;
  height: 100%;
  color: var(--color-text-light);
  transition: transform var(--transition-medium);
  transform-style: preserve-3d;
  box-shadow: 0 15px 50px var(--color-shadow);
}

.note-box.no-transition {
  transition: none;
}

.note-box.is-flipped {
  transform: rotateY(180deg);
}

.note-content {
  background-color: var(--color-white);
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: var(--border-radius);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  box-shadow: 0 3px 18px 3px var(--color-shadow);
}

/* ===== 状态指示器样式 ===== */
.last-note-number {
  font-family: number, sans-serif;
  font-weight: bold;
  font-size: var(--font-size-sm);
  color: var(--color-white);
  position: absolute;
  z-index: var(--z-index-top);
  top: var(--spacing-sm);
  left: var(--spacing-sm);
}

.current-category {
  font-family: deyihei, sans-serif;
  font-weight: normal;
  font-size: var(--font-size-sm);
  color: var(--color-white);
  position: absolute;
  z-index: var(--z-index-top);
  bottom: var(--spacing-sm);
  left: var(--spacing-sm);
}

.study-time-number {
  font-family: number, sans-serif;
  font-weight: bold;
  font-size: var(--font-size-sm);
  position: absolute;
  z-index: var(--z-index-top);
  top: var(--spacing-sm);
  right: var(--spacing-sm);
}

.study-time-number.done {
  color: var(--color-success);
}

.study-time-number.nodone {
  color: var(--color-white);
}

.study-time-number .current-note-level {
  color: var(--color-white);
}

/* ===== 响应式设计 ===== */
@media (min-width: 768px) {
  :root {
    /* 桌面端尺寸调整 */
    --spacing-sm: 20px;
    --font-size-sm: 16px;
    --container-padding: 60px;
  }

  .swiper-slide {
    width: 90vw;
    max-width: 600px;
  }
}

@media (min-width: 1024px) {
  :root {
    --spacing-sm: 24px;
    --font-size-sm: 18px;
  }

  .swiper-slide {
    max-width: 500px;
  }
}

/* ===== 性能优化 ===== */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}

/* 高性能GPU加速 */
.swiper-slide,
.note-box,
.note-content {
  will-change: transform;
  transform: translateZ(0);
}

/* ===== 辅助功能优化 ===== */
@media (prefers-contrast: high) {
  :root {
    --color-overlay: rgba(255, 255, 255, 0.95);
    --color-shadow: rgba(0, 0, 0, 0.5);
  }
}

/* 深色模式支持 */
@media (prefers-color-scheme: dark) {
  :root {
    --color-slide-bg: #1a1a1a;
    --color-listen-bg: #2d2d2d;
  }
}
